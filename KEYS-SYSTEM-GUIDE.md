# ๐ ะัะบะพะฒะพะดััะฒะพ ะฟะพ ัะธััะตะผะต ะปะธัะตะฝะทะธะพะฝะฝัั ะบะปััะตะน

## ะะฑะทะพั

ะกะธััะตะผะฐ ะปะธัะตะฝะทะธะพะฝะฝัั ะบะปััะตะน ะฟะพะทะฒะพะปัะตั ะณะตะฝะตัะธัะพะฒะฐัั ะธ ะฐะบัะธะฒะธัะพะฒะฐัั ะบะปััะธ ั ัะฐะทะฝัะผะธ ัะธะฟะฐะผะธ ะฟะพะดะฟะธัะพะบ:
- **Basic** - 30 ะดะฝะตะน ะดะพัััะฟะฐ
- **Plus** - 90 ะดะฝะตะน ะดะพัััะฟะฐ  
- **Lifetime** - ะฝะฐะฒัะตะณะดะฐ

โ๏ธ **ะะะะะ**: ะะฐะถะดัะน ะบะปัั ะผะพะถะฝะพ ะฐะบัะธะฒะธัะพะฒะฐัั ัะพะปัะบะพ **ะะะะ ะะะ**!

## ะขะธะฟั ะฟะพะดะฟะธัะพะบ

### Basic (30 ะดะฝะตะน)
- ะกัะพะบ ะดะตะนััะฒะธั: 30 ะดะฝะตะน ั ะผะพะผะตะฝัะฐ ะฐะบัะธะฒะฐัะธะธ
- ะะพะปะฝัะน ะดะพัััะฟ ะบะพ ะฒัะตะผ ััะฝะบัะธัะผ
- ะะฒัะพะผะฐัะธัะตัะบะธ ะธััะตะบะฐะตั ัะตัะตะท 30 ะดะฝะตะน

### Plus (90 ะดะฝะตะน)
- ะกัะพะบ ะดะตะนััะฒะธั: 90 ะดะฝะตะน ั ะผะพะผะตะฝัะฐ ะฐะบัะธะฒะฐัะธะธ
- ะะพะปะฝัะน ะดะพัััะฟ ะบะพ ะฒัะตะผ ััะฝะบัะธัะผ
- ะะฒัะพะผะฐัะธัะตัะบะธ ะธััะตะบะฐะตั ัะตัะตะท 90 ะดะฝะตะน

### Lifetime (ะฝะฐะฒัะตะณะดะฐ)
- ะกัะพะบ ะดะตะนััะฒะธั: ะฝะฐะฒัะตะณะดะฐ
- ะะพะปะฝัะน ะดะพัััะฟ ะบะพ ะฒัะตะผ ััะฝะบัะธัะผ
- ะะธะบะพะณะดะฐ ะฝะต ะธััะตะบะฐะตั

## ะะตะฝะตัะฐัะธั ะบะปััะตะน

### ะะตะฝะตัะฐัะธั ะพะดะฝะพะณะพ ะบะปััะฐ

```bash
node generate-key-with-type.js
```

ะกะบัะธะฟั ะฟัะตะดะปะพะถะธั ะฒัะฑัะฐัั ัะธะฟ ะฟะพะดะฟะธัะบะธ:
1. Basic - 30 ะดะฝะตะน
2. Plus - 90 ะดะฝะตะน
3. Lifetime - ะฝะฐะฒัะตะณะดะฐ

ะัะธะผะตั ะฒัะฒะพะดะฐ:
```
๐ ะะตะฝะตัะฐัะพั ะปะธัะตะฝะทะธะพะฝะฝัั ะบะปััะตะน

ะะพัััะฟะฝัะต ัะธะฟั ะฟะพะดะฟะธัะพะบ:
1. Basic - 30 ะดะฝะตะน
2. Plus - 90 ะดะฝะตะน
3. Lifetime - ะฝะฐะฒัะตะณะดะฐ

ะัะฑะตัะธัะต ัะธะฟ ะฟะพะดะฟะธัะบะธ (1-3): 3

โ ะะธัะตะฝะทะธะพะฝะฝัะน ะบะปัั ัะณะตะฝะตัะธัะพะฒะฐะฝ!
   ะขะธะฟ ะฟะพะดะฟะธัะบะธ: Lifetime
   ะกะพะทะดะฐะฝ: admin

   ๐ ะะะฎะง: A1B2-C3D4-E5F6

   โฐ ะกัะพะบ ะดะตะนััะฒะธั: ะฝะฐะฒัะตะณะดะฐ
   โ๏ธ  ะะปัั ะผะพะถะฝะพ ะฐะบัะธะฒะธัะพะฒะฐัั ัะพะปัะบะพ ะะะะ ัะฐะท!
```

### ะะฐััะพะฒะฐั ะณะตะฝะตัะฐัะธั ะบะปััะตะน

```bash
node generate-multiple-keys.js
```

ะกะบัะธะฟั ะฟะพะทะฒะพะปัะตั ัะณะตะฝะตัะธัะพะฒะฐัั ะดะพ 100 ะบะปััะตะน ะพะดะฝะพะณะพ ัะธะฟะฐ ะทะฐ ัะฐะท.

ะัะธะผะตั:
```
๐ ะะฐััะพะฒัะน ะณะตะฝะตัะฐัะพั ะปะธัะตะฝะทะธะพะฝะฝัั ะบะปััะตะน

ะะพัััะฟะฝัะต ัะธะฟั ะฟะพะดะฟะธัะพะบ:
1. Basic - 30 ะดะฝะตะน
2. Plus - 90 ะดะฝะตะน
3. Lifetime - ะฝะฐะฒัะตะณะดะฐ

ะัะฑะตัะธัะต ัะธะฟ ะฟะพะดะฟะธัะบะธ (1-3): 2

ะกะบะพะปัะบะพ ะบะปััะตะน ัะณะตะฝะตัะธัะพะฒะฐัั? 5

โณ ะะตะฝะตัะฐัะธั 5 ะบะปััะตะน ัะธะฟะฐ Plus...

โ ะะปััะธ ััะฟะตัะฝะพ ัะณะตะฝะตัะธัะพะฒะฐะฝั!

   ะขะธะฟ ะฟะพะดะฟะธัะบะธ: Plus
   ะะพะปะธัะตััะฒะพ: 5
   ะกะพะทะดะฐะป: admin

๐ ะะะฎะงะ:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  1. A1B2-C3D4-E5F6
  2. B2C3-D4E5-F6A7
  3. C3D4-E5F6-A7B8
  4. D4E5-F6A7-B8C9
  5. E5F6-A7B8-C9D0
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โฐ ะกัะพะบ ะดะตะนััะฒะธั: 90 ะดะฝะตะน ั ะผะพะผะตะฝัะฐ ะฐะบัะธะฒะฐัะธะธ
โ๏ธ  ะะฐะถะดัะน ะบะปัั ะผะพะถะฝะพ ะฐะบัะธะฒะธัะพะฒะฐัั ัะพะปัะบะพ ะะะะ ัะฐะท!
```

## ะัะพัะผะพัั ะบะปััะตะน

```bash
node show-keys.js
```

ะะพะบะฐะทัะฒะฐะตั ะฒัะต ะบะปััะธ ะฒ ัะธััะตะผะต ั ะฟะพะดัะพะฑะฝะพะน ะธะฝัะพัะผะฐัะธะตะน:

```
๐ ะัะต ะปะธัะตะฝะทะธะพะฝะฝัะต ะบะปััะธ ะฒ ัะธััะตะผะต:

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ID    โ ะะะฎะง            โ ะขะะ        โ ะกะขะะขะฃะก          โ ะกะะะะะ          โ ะะกะะะะฌะะะะะ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
1     โ A1B2-C3D4-E5F6  โ Lifetime   โ โ ะะพัััะฟะตะฝ     โ admin           โ -
2     โ B2C3-D4E5-F6A7  โ Plus       โ โ ะัะฟะพะปัะทะพะฒะฐะฝ  โ admin           โ user123
3     โ C3D4-E5F6-A7B8  โ Basic      โ โ ะะพัััะฟะตะฝ     โ admin           โ -
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ ะกัะฐัะธััะธะบะฐ:
   ะัะตะณะพ ะบะปััะตะน: 3
   ะะพัััะฟะฝะพ: 2
   ะัะฟะพะปัะทะพะฒะฐะฝะพ: 1

   ะะพ ัะธะฟะฐะผ:
   - Basic (30 ะดะฝะตะน): 1 (ะดะพัััะฟะฝะพ: 1)
   - Plus (90 ะดะฝะตะน): 1 (ะดะพัััะฟะฝะพ: 0)
   - Lifetime (ะฝะฐะฒัะตะณะดะฐ): 1 (ะดะพัััะฟะฝะพ: 1)
```

## ะะบัะธะฒะฐัะธั ะบะปััะฐ

### ะงะตัะตะท API

```javascript
POST /api/me/activate-key
Authorization: Bearer <token>

{
  "key": "A1B2-C3D4-E5F6"
}
```

ะัะฒะตั ะฟัะธ ััะฟะตัะต:
```json
{
  "user": {
    "uid": 1,
    "username": "user123",
    "subscriptionTier": "Lifetime",
    "subscriptionExpiresAt": 0,
    "subscriptionActive": true,
    "licenseKey": "A1B2-C3D4-E5F6"
  }
}
```

ะัะธะฑะบะธ:
- `400 bad_request` - ะบะปัั ะฝะต ัะบะฐะทะฐะฝ
- `404 invalid_key` - ะบะปัั ะฝะต ะฝะฐะนะดะตะฝ ะธะปะธ ัะถะต ะธัะฟะพะปัะทะพะฒะฐะฝ
- `500 internal_error` - ะฒะฝัััะตะฝะฝัั ะพัะธะฑะบะฐ ัะตัะฒะตัะฐ

### ะงะตัะตะท ะฐะดะผะธะฝ-ะฟะฐะฝะตะปั

1. ะะพะนะดะธัะต ะฒ ะฐะดะผะธะฝ-ะฟะฐะฝะตะปั
2. ะะตัะตะนะดะธัะต ะฒ ัะฐะทะดะตะป "ะะปััะธ"
3. ะะฐะถะผะธัะต "ะกะณะตะฝะตัะธัะพะฒะฐัั ะบะปัั"
4. ะัะฑะตัะธัะต ัะธะฟ ะฟะพะดะฟะธัะบะธ
5. ะกะบะพะฟะธััะนัะต ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัะน ะบะปัั
6. ะะตัะตะดะฐะนัะต ะบะปัั ะฟะพะปัะทะพะฒะฐัะตะปั

## ะฃะฟัะฐะฒะปะตะฝะธะต ะบะปััะฐะผะธ ัะตัะตะท ะฐะดะผะธะฝ-ะฟะฐะฝะตะปั

### ะัะพัะผะพัั ะฒัะตั ะบะปััะตะน

```javascript
GET /api/admin/keys
Authorization: Bearer <admin_token>
```

### ะะตะฝะตัะฐัะธั ะบะปััะฐ

```javascript
POST /api/admin/generate-key
Authorization: Bearer <admin_token>

{
  "subscriptionType": "Lifetime"  // Basic, Plus, ะธะปะธ Lifetime
}
```

### ะฃะดะฐะปะตะฝะธะต ะบะปััะฐ

```javascript
DELETE /api/admin/keys/:id
Authorization: Bearer <admin_token>
```

## ะกัััะบัััะฐ ะฑะฐะทั ะดะฐะฝะฝัั

ะขะฐะฑะปะธัะฐ `license_keys`:

```sql
CREATE TABLE license_keys (
  id INT AUTO_INCREMENT PRIMARY KEY,
  `key` VARCHAR(255) NOT NULL UNIQUE,
  subscription_type VARCHAR(50) DEFAULT 'Basic',  -- Basic, Plus, Lifetime
  used TINYINT(1) DEFAULT 0,                      -- 0 = ะฝะต ะธัะฟะพะปัะทะพะฒะฐะฝ, 1 = ะธัะฟะพะปัะทะพะฒะฐะฝ
  created_at BIGINT NOT NULL,
  created_by INT,                                  -- ID ะฐะดะผะธะฝะฐ, ัะพะทะดะฐะฒัะตะณะพ ะบะปัั
  used_at BIGINT,                                  -- ะัะตะผั ะฐะบัะธะฒะฐัะธะธ
  used_by INT,                                     -- ID ะฟะพะปัะทะพะฒะฐัะตะปั, ะฐะบัะธะฒะธัะพะฒะฐะฒัะตะณะพ ะบะปัั
  FOREIGN KEY(created_by) REFERENCES users(id) ON DELETE SET NULL,
  FOREIGN KEY(used_by) REFERENCES users(id) ON DELETE SET NULL
)
```

## ะะพะณะธะบะฐ ัะฐะฑะพัั

1. **ะะตะฝะตัะฐัะธั ะบะปััะฐ**:
   - ะะดะผะธะฝ ะฒัะฑะธัะฐะตั ัะธะฟ ะฟะพะดะฟะธัะบะธ (Basic/Plus/Lifetime)
   - ะกะธััะตะผะฐ ะณะตะฝะตัะธััะตั ัะฝะธะบะฐะปัะฝัะน ะบะปัั ะฒ ัะพัะผะฐัะต XXXX-XXXX-XXXX
   - ะะปัั ัะพััะฐะฝัะตััั ะฒ ะะ ั ะฟะพะปะตะผ `used = 0`

2. **ะะบัะธะฒะฐัะธั ะบะปััะฐ**:
   - ะะพะปัะทะพะฒะฐัะตะปั ะฒะฒะพะดะธั ะบะปัั
   - ะกะธััะตะผะฐ ะฟัะพะฒะตััะตั: ัััะตััะฒัะตั ะปะธ ะบะปัั ะธ `used = 0`
   - ะัะปะธ ะบะปัั ะฒะฐะปะธะดะตะฝ:
     - ะะพะผะตัะฐะตั ะบะปัั ะบะฐะบ ะธัะฟะพะปัะทะพะฒะฐะฝะฝัะน (`used = 1`)
     - ะะฐะฟะธััะฒะฐะตั ID ะฟะพะปัะทะพะฒะฐัะตะปั ะธ ะฒัะตะผั ะฐะบัะธะฒะฐัะธะธ
     - ะัะดะฐะตั ะฟะพะดะฟะธัะบั ะฒ ะทะฐะฒะธัะธะผะพััะธ ะพั ัะธะฟะฐ:
       - Basic: 30 ะดะฝะตะน
       - Plus: 90 ะดะฝะตะน
       - Lifetime: ะฝะฐะฒัะตะณะดะฐ (expires_at = 0)

3. **ะัะพะฒะตัะบะฐ ะฟะพะดะฟะธัะบะธ**:
   - ะัะธ ะบะฐะถะดะพะผ ะทะฐะฟัะพัะต ัะธััะตะผะฐ ะฟัะพะฒะตััะตั:
     - ะััั ะปะธ ั ะฟะพะปัะทะพะฒะฐัะตะปั ะฟะพะดะฟะธัะบะฐ (`subscription_tier != 'None'`)
     - ะะต ะธััะตะบ ะปะธ ััะพะบ (`expires_at = 0` ะธะปะธ `expires_at > now`)

## ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะกะพะทะดะฐะฝะธะต ะฟัะพะผะพ-ะบะฐะผะฟะฐะฝะธะธ

```bash
# ะะตะฝะตัะธััะตะผ 50 Basic ะบะปััะตะน ะดะปั ัะฐะทะดะฐัะธ
node generate-multiple-keys.js
# ะัะฑะธัะฐะตะผ: 1 (Basic)
# ะะฒะพะดะธะผ: 50
```

### ะัะพะดะฐะถะฐ ะฟะพะดะฟะธัะพะบ

```bash
# ะะตะฝะตัะธััะตะผ Lifetime ะบะปััะธ ะดะปั ะฟัะพะดะฐะถะธ
node generate-key-with-type.js
# ะัะฑะธัะฐะตะผ: 3 (Lifetime)
```

### ะัะพะฒะตัะบะฐ ััะฐัะธััะธะบะธ

```bash
# ะกะผะพััะธะผ ัะบะพะปัะบะพ ะบะปััะตะน ะธัะฟะพะปัะทะพะฒะฐะฝะพ
node show-keys.js
```

## ะะตะทะพะฟะฐัะฝะพััั

- โ ะะปัั ะผะพะถะฝะพ ะฐะบัะธะฒะธัะพะฒะฐัั ัะพะปัะบะพ ะพะดะธะฝ ัะฐะท
- โ ะะพัะปะต ะฐะบัะธะฒะฐัะธะธ ะบะปัั ะฟะพะผะตัะฐะตััั ะบะฐะบ ะธัะฟะพะปัะทะพะฒะฐะฝะฝัะน
- โ ะะตะฒะพะทะผะพะถะฝะพ ะฟะพะฒัะพัะฝะพ ะฐะบัะธะฒะธัะพะฒะฐัั ะธัะฟะพะปัะทะพะฒะฐะฝะฝัะน ะบะปัั
- โ ะัะต ะดะตะนััะฒะธั ะปะพะณะธัััััั (ะบัะพ ัะพะทะดะฐะป, ะบัะพ ะธัะฟะพะปัะทะพะฒะฐะป, ะบะพะณะดะฐ)
- โ ะขะพะปัะบะพ ะฐะดะผะธะฝั ะผะพะณัั ะณะตะฝะตัะธัะพะฒะฐัั ะบะปััะธ
- โ ะะปััะธ ะณะตะฝะตัะธัััััั ะบัะธะฟัะพะณัะฐัะธัะตัะบะธ ะฑะตะทะพะฟะฐัะฝัะผ ัะฟะพัะพะฑะพะผ

## ะะธะณัะฐัะธั ัััะตััะฒัััะธั ะบะปััะตะน

ะัะปะธ ั ะฒะฐั ัะถะต ะตััั ะบะปััะธ ะฑะตะท ัะธะฟะฐ ะฟะพะดะฟะธัะบะธ, ะพะฝะธ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะพะปััะฐั ัะธะฟ `Basic` ะฟัะธ ะพะฑะฝะพะฒะปะตะฝะธะธ ะฑะฐะทั ะดะฐะฝะฝัั.

ะะปั ะธะทะผะตะฝะตะฝะธั ัะธะฟะฐ ัััะตััะฒัััะตะณะพ ะบะปััะฐ:

```sql
UPDATE license_keys 
SET subscription_type = 'Lifetime' 
WHERE `key` = 'A1B2-C3D4-E5F6';
```

## Troubleshooting

### ะะปัั ะฝะต ะฐะบัะธะฒะธััะตััั

1. ะัะพะฒะตัััะต, ััะพ ะบะปัั ะฝะต ะธัะฟะพะปัะทะพะฒะฐะฝ:
   ```bash
   node show-keys.js
   ```

2. ะัะพะฒะตัััะต ัะพัะผะฐั ะบะปััะฐ (ะดะพะปะถะตะฝ ะฑััั XXXX-XXXX-XXXX)

3. ะัะพะฒะตัััะต ะปะพะณะธ ัะตัะฒะตัะฐ ะฝะฐ ะฝะฐะปะธัะธะต ะพัะธะฑะพะบ

### ะะฐะทะฐ ะดะฐะฝะฝัั ะฝะต ะพะฑะฝะพะฒะปัะตััั

ะัะปะธ ะบะพะปะพะฝะบะฐ `subscription_type` ะฝะต ะดะพะฑะฐะฒะธะปะฐัั ะฐะฒัะพะผะฐัะธัะตัะบะธ:

**MySQL:**
```sql
ALTER TABLE license_keys 
ADD COLUMN subscription_type VARCHAR(50) DEFAULT 'Basic' AFTER `key`;
```

**PostgreSQL:**
```sql
ALTER TABLE license_keys 
ADD COLUMN subscription_type VARCHAR(50) DEFAULT 'Basic';
```

## ะะพะดะดะตัะถะบะฐ

ะัะปะธ ะฒะพะทะฝะธะบะปะธ ะฟัะพะฑะปะตะผั:
1. ะัะพะฒะตัััะต ะปะพะณะธ ัะตัะฒะตัะฐ
2. ะฃะฑะตะดะธัะตัั, ััะพ ะฑะฐะทะฐ ะดะฐะฝะฝัั ะพะฑะฝะพะฒะปะตะฝะฐ
3. ะัะพะฒะตัััะต ะฟัะฐะฒะฐ ะดะพัััะฟะฐ (ัะพะปัะบะพ ะฐะดะผะธะฝั ะผะพะณัั ะณะตะฝะตัะธัะพะฒะฐัั ะบะปััะธ)
