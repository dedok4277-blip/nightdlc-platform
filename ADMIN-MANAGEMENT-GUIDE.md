# üëë –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∞–¥–º–∏–Ω–∫–∞–º–∏

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å –∏ –∑–∞–±–∏—Ä–∞—Ç—å –∞–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **–í—ã–¥–∞—á–∞ –∞–¥–º–∏–Ω–∫–∏** - –ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
‚úÖ **–°–Ω—è—Ç–∏–µ –∞–¥–º–∏–Ω–∫–∏** - –ó–∞–±—Ä–∞—Ç—å –∞–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚úÖ **–ó–∞—â–∏—Ç–∞** - –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏ –∞–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞
‚úÖ **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ** - –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º
‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## –ö–∞–∫ –≤—ã–¥–∞—Ç—å –∞–¥–º–∏–Ω–∫—É

### –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

1. –í–æ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (`/admin`)
2. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–ø–∏—Å–∫–µ
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É **üë§ USER** —Ä—è–¥–æ–º —Å –∏–º–µ–Ω–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –¥–∏–∞–ª–æ–≥–æ–≤–æ–º –æ–∫–Ω–µ
5. –ö–Ω–æ–ø–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ **üëë ADMIN** (–∫—Ä–∞—Å–Ω–∞—è)

### –ß–µ—Ä–µ–∑ API

```javascript
POST /api/admin/users/:uid/toggle-admin
Authorization: Bearer <admin_token>

// –û—Ç–≤–µ—Ç –ø—Ä–∏ —É—Å–ø–µ—Ö–µ:
{
  "user": {
    "uid": 123,
    "username": "user123",
    "email": "user@example.com",
    "isAdmin": true,  // true = –∞–¥–º–∏–Ω, false = –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    ...
  }
}

// –û—à–∏–±–∫–∏:
// 400 bad_request - –Ω–µ–≤–µ—Ä–Ω—ã–π UID
// 403 cannot_toggle_self - –ø–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏ –ø—Ä–∞–≤–∞
// 404 not_found - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω
// 500 internal_error - –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞
```

## –ö–∞–∫ –∑–∞–±—Ä–∞—Ç—å –∞–¥–º–∏–Ω–∫—É

### –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

1. –í–æ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (`/admin`)
2. –ù–∞–π–¥–∏—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ —Å–ø–∏—Å–∫–µ (–∫–Ω–æ–ø–∫–∞ **üëë ADMIN** –∫—Ä–∞—Å–Ω–∞—è)
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É **üëë ADMIN**
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –¥–∏–∞–ª–æ–≥–æ–≤–æ–º –æ–∫–Ω–µ
5. –ö–Ω–æ–ø–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ **üë§ USER** (–∑–µ–ª–µ–Ω–∞—è)

### –ß–µ—Ä–µ–∑ API

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ—Ç –∂–µ endpoint - –æ–Ω –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å (toggle):
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—ã—á–Ω—ã–π ‚Üí —Å—Ç–∞–Ω–µ—Ç –∞–¥–º–∏–Ω–æ–º
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω ‚Üí —Å—Ç–∞–Ω–µ—Ç –æ–±—ã—á–Ω—ã–º

## –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

### –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

| –°—Ç–∞—Ç—É—Å | –í–∏–¥ | –¶–≤–µ—Ç | –î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ |
|--------|-----|------|-------------------|
| –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | üë§ USER | –ó–µ–ª–µ–Ω—ã–π | –í—ã–¥–∞—Ç—å –∞–¥–º–∏–Ω–∫—É |
| –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä | üëë ADMIN | –ö—Ä–∞—Å–Ω—ã–π | –ó–∞–±—Ä–∞—Ç—å –∞–¥–º–∏–Ω–∫—É |

### –í —Å–ø–∏—Å–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –∏–∫–æ–Ω–∫–æ–π üëë –∏ –∫—Ä–∞—Å–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

1. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ** - –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –ø—Ä–∞–≤
2. **–ó–∞—â–∏—Ç–∞ –æ—Ç —Å–∞–º–æ–∏–∑–º–µ–Ω–µ–Ω–∏—è** - –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏ –∞–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞
3. **–¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤** - –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–∞–≤–∞–º–∏
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥ —Å–µ—Ä–≤–µ—Ä–∞

### –ß—Ç–æ –Ω–µ–ª—å–∑—è —Å–¥–µ–ª–∞—Ç—å

‚ùå –ò–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏ –∞–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞
‚ùå –í—ã–¥–∞—Ç—å –∞–¥–º–∏–Ω–∫—É –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
‚ùå –£–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–∞–≤–∞–º–∏ –±–µ–∑ –∞–¥–º–∏–Ω—Å–∫–∏—Ö –ø—Ä–∞–≤

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```
üëë Admin admin granted admin rights for user user123 (UID 123)
üëë Admin admin revoked admin rights for user user456 (UID 456)
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –í—ã–¥–∞—Ç—å –∞–¥–º–∏–Ω–∫—É –Ω–æ–≤–æ–º—É –º–æ–¥–µ—Ä–∞—Ç–æ—Ä—É

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
3. –ù–∞–π–¥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ username –∏–ª–∏ email
4. –ù–∞–∂–º–∏—Ç–µ **üë§ USER** ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç –∞–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞

### –ó–∞–±—Ä–∞—Ç—å –∞–¥–º–∏–Ω–∫—É —É —É–≤–æ–ª–µ–Ω–Ω–æ–≥–æ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞

1. –í–æ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
2. –ù–∞–π–¥–∏—Ç–µ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ –≤ —Å–ø–∏—Å–∫–µ
3. –ù–∞–∂–º–∏—Ç–µ **üëë ADMIN** ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ
4. –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –ø–æ—Ç–µ—Ä—è–µ—Ç –∞–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞

### –ú–∞—Å—Å–æ–≤–∞—è –≤—ã–¥–∞—á–∞ –∞–¥–º–∏–Ω–æ–∫

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ API –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:

```javascript
const userIds = [123, 456, 789]

for (const uid of userIds) {
  await fetch(`/api/admin/users/${uid}/toggle-admin`, {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${adminToken}`,
      'Content-Type': 'application/json'
    }
  })
}
```

## –ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç:

‚úÖ –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚úÖ –í—ã–¥–∞–≤–∞—Ç—å –∏ –∑–∞–±–∏—Ä–∞—Ç—å –∞–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞
‚úÖ –í—ã–¥–∞–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ (Basic, Plus, Elite)
‚úÖ –°–±—Ä–∞—Å—ã–≤–∞—Ç—å HWID
‚úÖ –£–¥–∞–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚úÖ –£–¥–∞–ª—è—Ç—å –ø–æ—Å—Ç—ã
‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã–µ –∫–ª—é—á–∏
‚úÖ –£–¥–∞–ª—è—Ç—å –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã–µ –∫–ª—é—á–∏
‚úÖ –£–ø—Ä–∞–≤–ª—è—Ç—å Anti-DDoS –∑–∞—â–∏—Ç–æ–π

## –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –í—ã–¥–∞—Ç—å –∞–¥–º–∏–Ω–∫—É —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã:

```bash
# MySQL
node give-admin.js

# PostgreSQL
node give-admin-postgres.js
```

–≠—Ç–∏ —Å–∫—Ä–∏–ø—Ç—ã –≤—ã–¥–∞—é—Ç –∞–¥–º–∏–Ω–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é `admin` –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ.

### –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞

–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `make-admin.js`:

```javascript
import pool from './server/db-dual.js'

const username = 'newadmin' // –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω—ã–π username

async function makeAdmin() {
  try {
    const [users] = await pool.execute('SELECT id, username FROM users WHERE username = ?', [username])
    
    if (users.length === 0) {
      console.log(`‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${username} –Ω–µ –Ω–∞–π–¥–µ–Ω`)
      process.exit(1)
    }

    await pool.execute('UPDATE users SET is_admin = 1 WHERE username = ?', [username])
    console.log(`‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${username} —Ç–µ–ø–µ—Ä—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä`)
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞:', error.message)
  } finally {
    process.exit(0)
  }
}

makeAdmin()
```

–ó–∞–ø—É—Å–∫:
```bash
node make-admin.js
```

## Troubleshooting

### –ù–µ –º–æ–≥—É –≤—ã–¥–∞—Ç—å –∞–¥–º–∏–Ω–∫—É

**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–Ω–æ–ø–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ –∏–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

**–†–µ—à–µ–Ω–∏–µ**:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —Å–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

### –ù–µ –º–æ–≥—É –∑–∞–±—Ä–∞—Ç—å —Å–≤–æ—é –∞–¥–º–∏–Ω–∫—É

**–ü—Ä–æ–±–ª–µ–º–∞**: –•–æ—á—É –∑–∞–±—Ä–∞—Ç—å —Å–≤–æ—é –∞–¥–º–∏–Ω–∫—É, –Ω–æ –∫–Ω–æ–ø–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞

**–†–µ—à–µ–Ω–∏–µ**: –≠—Ç–æ –∑–∞—â–∏—Ç–∞! –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏ –∞–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞. –ü–æ–ø—Ä–æ—Å–∏—Ç–µ –¥—Ä—É–≥–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ.

### –°–ª—É—á–∞–π–Ω–æ –∑–∞–±—Ä–∞–ª –∞–¥–º–∏–Ω–∫—É —É –≤—Å–µ—Ö

**–ü—Ä–æ–±–ª–µ–º–∞**: –ó–∞–±—Ä–∞–ª –∞–¥–º–∏–Ω–∫—É —É –≤—Å–µ—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤, –≤–∫–ª—é—á–∞—è —Å–µ–±—è

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:

```bash
node give-admin.js
```

–ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:

**MySQL:**
```sql
UPDATE users SET is_admin = 1 WHERE username = 'admin';
```

**PostgreSQL:**
```sql
UPDATE users SET is_admin = 1 WHERE username = 'admin';
```

### –û—à–∏–±–∫–∞ "cannot_toggle_self"

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–ª—É—á–∞—é –æ—à–∏–±–∫—É –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∞

**–†–µ—à–µ–Ω–∏–µ**: –í—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏ –∞–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞. –≠—Ç–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –ü–æ–ø—Ä–æ—Å–∏—Ç–µ –¥—Ä—É–≥–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

1. **–ú–∏–Ω–∏–º—É–º –∞–¥–º–∏–Ω–æ–≤** - –í—ã–¥–∞–≤–∞–π—Ç–µ –∞–¥–º–∏–Ω–∫—É —Ç–æ–ª—å–∫–æ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º –ª—é–¥—è–º
2. **–†–µ–≥—É–ª—è—Ä–Ω—ã–π –∞—É–¥–∏—Ç** - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤
4. **–†–µ–∑–µ—Ä–≤–Ω—ã–π –∞–¥–º–∏–Ω** - –í—Å–µ–≥–¥–∞ –∏–º–µ–π—Ç–µ –º–∏–Ω–∏–º—É–º 2 –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ, –∫–æ–º—É –∏ –∫–æ–≥–¥–∞ –≤—ã–¥–∞–ª–∏ –∞–¥–º–∏–Ω–∫—É

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–¢–µ—Å—Ç–æ–≤—ã–µ –∞–¥–º–∏–Ω—ã** - –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
2. **–ë—ã—Å—Ç—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –í–∫–ª—é—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## API Reference

### Toggle Admin Rights

```
POST /api/admin/users/:uid/toggle-admin
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: Bearer token
- –ü—Ä–∞–≤–∞: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `uid` (path) - UID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–û—Ç–≤–µ—Ç –ø—Ä–∏ —É—Å–ø–µ—Ö–µ (200):**
```json
{
  "user": {
    "uid": 123,
    "username": "user123",
    "email": "user@example.com",
    "isAdmin": true,
    "subscriptionTier": "None",
    "subscriptionActive": false,
    ...
  }
}
```

**–û—à–∏–±–∫–∏:**
- `400 bad_request` - –ù–µ–≤–µ—Ä–Ω—ã–π UID
- `403 cannot_toggle_self` - –ü–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏ –ø—Ä–∞–≤–∞
- `404 not_found` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω
- `500 internal_error` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∫–∞–º–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

‚úÖ –ü—Ä–æ—Å—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–∑–∞—â–∏—Ç–∞ –æ—Ç —Å–∞–º–æ–∏–∑–º–µ–Ω–µ–Ω–∏—è)
‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π
‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚úÖ API –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**
